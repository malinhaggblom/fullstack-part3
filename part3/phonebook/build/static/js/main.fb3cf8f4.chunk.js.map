{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/PersonList.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","_ref","name","filter","react_default","a","createElement","value","onChange","PersonForm","addName","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","PersonList","persons","deleteAccount","style","listStyle","map","person","key","number","onClick","id","Notification","message","includes","className","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","put","concat","remove","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setName","_useState9","_useState10","confirmMessage","setConfirmMessage","useEffect","components_Notification","components_Filter","event","target","word","results","toLowerCase","startsWith","components_PersonForm","preventDefault","noteObject","same","forEach","JSON","stringify","window","confirm","personsService","returnedPerson","setTimeout","catch","error","console","log","components_PersonList","personname","find","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.fb3cf8f4.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter =  ({name, filter}) => {\r\n  return(\r\n    <div>filter shown with <input value={name} onChange={filter}/></div>\r\n  )}\r\n\r\n  export default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ addName, newName, newNumber, handleNameChange, handleNumberChange }) => {\r\n  return (\r\n      <form onSubmit={addName}>\r\n      <div>name: <input value={newName} onChange={handleNameChange}/></div>\r\n      <div>number: <input value={newNumber} onChange={handleNumberChange}/></div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst PersonList =({persons, deleteAccount}) => {\r\n   \r\n  return (\r\n      <ul style={{ listStyle: 'none'}}>\r\n      <div>\r\n          {persons.map(person =>  \r\n            <div key={person.name}>{person.name} {person.number} <button onClick={() =>deleteAccount(person.id)}>Delete</button></div>\r\n          )}\r\n      </div>\r\n      </ul>\r\n  )\r\n}\r\nexport default PersonList","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  if(message.includes(`removed`))\r\n  return (\r\n    <div className='error'>{message}</div>\r\n  )\r\n  else\r\n  return (\r\n    <div className='confirm'>{message}</div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\nconst remove = (id) =>{\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst exportedObject = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  remove\r\n}\r\nexport default exportedObject","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/PersonList'\nimport Notification from './components/Notification'\nimport personsService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [name, setName] = useState('')\n  const [confirmMessage, setConfirmMessage] = useState(null)\n\n  useEffect(() => {\n    axios\n      .get('/api/persons')\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      name: newName,\n      number: newNumber,\n    }\n\n    let same = false;\n    persons.forEach(name => {\n      if (JSON.stringify(name.name) === JSON.stringify(noteObject.name)) {\n        if (window.confirm(newName + ' is already added to phonebook, replace the old number with a new one?')){\n            personsService\n            .update(name.id, noteObject)\n            .then(returnedPerson => {\n              setPersons(persons.map(person => person.id !== name.id ? person : returnedPerson))\n              setConfirmMessage(`Updated ${newName}`)\n              setTimeout(() => {\n                setConfirmMessage(null)\n              },4000)\n          })\n          .catch(error => {\n            setConfirmMessage(\n              `Information of ${newName} has already been removed from the server`\n            )\n            setTimeout(() => {\n              setConfirmMessage(null)\n            },4000)\n        })\n        same = true;\n      }\n    }})\n \n    if (same === true) {\n      setNewName('')\n      setNewNumber('')\n      return\n    }\n\n    else {\n      personsService\n        .create(noteObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setConfirmMessage(`Added ${returnedPerson.name}`)\n          setTimeout(() => {\n          setConfirmMessage(null)\n        },4000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const filter = (event => {\n    setName(event.target.value)\n    const word = event.target.value\n    if (word !== '') {\n      const results = persons.filter((person) => {\n        return person.name.toLowerCase().startsWith(word.toLowerCase())\n      })\n      setPersons(results)\n    }\n    else {\n      setPersons(persons)\n    }\n    setName(word)\n  })\n\n  const deleteAccount = (id) => {\n    const personname = persons.find(person => person.id === id)\n    if (window.confirm(`Delete ${personname.name}?`)) {\n      personsService\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={confirmMessage} />\n      <Filter name={name} filter={filter} />\n      <h2>Add a new</h2>\n      <PersonForm addName={addName} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={persons} deleteAccount={deleteAccount} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}